<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org en">
<head>
    <meta charset="text/html; UTF-8">
    <!--  <link rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Products list</title>
    <style>
        .modal {
            z-index: 9999;
        }
        .modal-parent {
            display: block;
        }
    </style>
</head>
<body>
<div class="container mx-auto mt-5" style="width: 1500px;">
    <div class="content">
        <div th:object="${plan}">
            <div class="row border">
                <div class="col-4">
                    <p>Nazwa planu</p>
                </div>
                <div class="col-8">
                    <p th:text="${plan.getIdentifier()}"></p>
                </div>

            </div>
            <div class="row border">
                <div class="col-4">
                    <p>Wydział</p>
                </div>
                <div class="col-8">
                    <p th:text="${plan.getFieldofstudyid().getFacultyid().getName()}"></p>
                </div>

            </div>
            <div class="row border">
                <div class="col-4">
                    <p>Studia</p>
                </div>
                <div class="col-8">
                    <p th:text="${plan.getFormofstudiesid().getName()}"></p>
                    <p th:text="${plan.getEducationlevelid().getName()}"></p>
                    <p th:text="${plan.getDegreeid().getName()}"></p>
                </div>

            </div>
            <div class="row border">
                <div class="col-4">
                    <p>Kierunek</p>
                </div>
                <div class="col-8">
                    <p th:text="${plan.getFieldofstudyid().getName()}"></p>
                </div>

            </div>
            <div class="row border">
                <div class="col-4">
                    <p>Specjalność</p>
                </div>
                <div class="col-8">
                    <p th:text="${plan.getSpecialization()}"></p>
                </div>

            </div>
            <p th:text="${plan.getPlanstatusid().getName()}"></p>
            <div class="row mt-5">
                <div class="col-3">
                    <a class="btn btn-primary"
                       th:href="@{/plans}">Powrót</a>
                </div>
                <div class="col-3">
                    <a class="btn btn-primary disabled"
                    >Wyświetl plan</a>
                </div>
                <div class="col-3">
                    <a class="btn btn-primary"
                       th:href="${addOpinionUrl}">Zaopiniuj plan</a>
                </div>
                <div class="col-3">
                    <a class="btn btn-primary"
                       th:href="${addOpinionsUrl}">Wyświetl opinie</a>
                </div>
            </div>

        </div>
    </div>
</div>
<button th:if="${isSenat}" type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal">Zatwierdź plan</button>

<!--<form th:object="${plan}" th:action="${url}" method="post">-->
<!--    <p th:text="${plan.getPlanstatusid().getName()}"></p>-->
<!--    <input type="submit" class="btn btn-success" data-dismiss="modal" id="okBtn">-->
<!--</form>-->
<div class="modal fade" id="myModal">

    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Czy na pewno chcesz zatwierdzic plan</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>



                <div class="modal-footer">
                    <form th:object="${plan}" th:action="${url}" method="post" id="form">
                    <p th:text="'Obecny status to: '+${plan.getPlanstatusid().getName()}"></p>
                    <input type="submit" onclick="form_submit()" class="btn btn-success" data-dismiss="modal" id="okBtn" value="Tak">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Nie</button>
                    </form>
                </div>
            <script>
                function form_submit() {
                    document.getElementById("form").submit();
                }
            </script>


        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script>
</body>
</html>
